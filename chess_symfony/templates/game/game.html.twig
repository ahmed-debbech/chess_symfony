<!DOCTYPE html>
<html>
   <head>
      <title></title>
      <meta charset="UTF-8">
      <style>
         .chess-board { border-spacing: 0; border-collapse: collapse; }
         .chess-board th { padding: .5em; }
         .chess-board th + th { border-bottom: 1px solid #000; }
         .chess-board th:first-child,
         .chess-board td:last-child { border-right: 1px solid #000; }
         .chess-board tr:last-child td { border-bottom: 1px solid; }
         .chess-board th:empty { border: none; }
         .chess-board td { width: 1.5em; height: 1.5em; text-align: center; font-size: 32px; line-height: 0;}
         .chess-board .light { background: #eee; }
         .chess-board .dark { background: #aaa; }
      </style>
   </head>
   <body>
      <table class="chess-board">
         <tbody>
            <tr>
               <th></th>
               <th>a</th>
               <th>b</th>
               <th>c</th>
               <th>d</th>
               <th>e</th>
               <th>f</th>
               <th>g</th>
               <th>h</th>
            </tr>
            {% set dl = 0 %}
            {% for key,pi in board %}
            <tr>
               <th>{{ 8-key }}</th>
               {% for k,p in pi %}   
               {% if dl == 0 %}
               {% set dl = 1 %}
               <td class="light">
                  {% if p is not null %}
                  {{p.coord}} 
                  {% endif %}
               </td>
               {% else %}
               {% set dl = 0 %}
               <td class="dark">
                  {% if p is not null %}
                  {{p.coord}} 
                  {% endif %}
               </td>
               {% endif %}
               {% endfor %}
               {% if dl == 0 %}
               {% set dl = 1 %}
               {% else %}
               {% set dl = 0 %}
               {% endif %}
            </tr>
            {% endfor %}     
         </tbody>
      </table>
      {{ form(form_move) }}
   </body>
</html>